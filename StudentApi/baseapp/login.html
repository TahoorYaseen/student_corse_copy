<form action="/api/login" method="post" id="form">
    {%csrf_token%}
   

    <label for="">email:</label>
    <input type="text" name="email" id="email" placeholder="email">
    <label for="">Password:</label>
    <input type="password" name="password" id="password" placeholder="password">
    <input type="submit" value="login">
</form>


<script>
 var form = document.getElementById('form')
    form.addEventListener('submit',function(e){
        e.preventDefault()
        var email = document.getElementById('email').value
        var password = document.getElementById('password').value
        fetch('http://localhost:8000/api/login',{
            method:'POST',
            body:JSON.stringify({
                email:email,
                password:password
            }),
            headers:{"Content-Type":"application/json, charset=UTF-8"}
        })
        .then(function(response){
            return response.json()
        })
        .then(function(data){
            console.log(data);
        })
    })
</script>